<!-- 
    window.innerHeight -> 브라우저가 제공하는 속성값, 브라우저에서 실제로 표시되어지고 있는 영역 높이
    window.scrollY -> 브라우저가 제공하는 속성값, 스크롤이 세로로 얼마나 이동했는지 px 단위로 나타냄 0 부터 증가.
    document.body.offsetHeight -> 문서 객체에서 제공하는 속성값, 요소의 실제 높이 = 보이는 영역 + 가려진 영역
    
    쉽게 설명하면, 페이지의 전체 높이 = offsetHeight, 페이지에 보이는 현재 높이 = innerHeight, 스크롤 내리면 scrollY 증가
    innerHeight + scrollY > offsetHeight  더이상 내려서 볼 수 없는데! 이때마다 새로운 요소를 추가해주면 무한스크롤 이다.   
 -->
<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>무한 스크롤</title>
    <style>
        section div:nth-child(even) {
            background: red;
            width: 100%;
            height: 50px;
        }

        section div:nth-child(odd) {
            background: blue;
            width: 100%;
            height: 50px;
        }
    </style>
</head>

<body>
    <div style="justify-content: center; text-align: center; align-items: center;">
        <div class="hegader">무한 스크롤</div>
        <br />
        <br />
        <br />
        <section style="height: 100vh;">
            <div class="box">1번째 블록</div>
            <div class="box">2번째 블록</div>
        </section>

        <script>
            var count = 2;
            window.onscroll = function () {
                if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
                    var toAdd = document.createElement("div");
                    toAdd.classList.add("box")
                    toAdd.textContent = `${++count}번쨰 블록`
                    document.querySelector('section').appendChild(toAdd);
                }
            }
        </script>
    </div>
</body>

</html>